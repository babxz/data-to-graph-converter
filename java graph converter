package com.example;

import java.util.Scanner;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartFrame;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.DefaultCategoryDataset;
import org.jfree.data.general.DefaultPieDataset;

public class GraphConverter {

  public static void main(String[] args) {
    // Get user input for data
    Scanner scanner = new Scanner(System.in);
    System.out.println(
      "Enter the number of data points (try not to exceed by 10):"
    );
    int n = scanner.nextInt();

    double[] data = new double[n];
    for (int i = 0; i < n; i++) {
      System.out.print("Enter value for data point " + (i + 1) + ": ");
      data[i] = scanner.nextDouble();
    }

    // Create a line graph
    DefaultCategoryDataset lineDataset = new DefaultCategoryDataset();
    for (int i = 0; i < data.length; i++) {
      lineDataset.addValue(data[i], "Series 1", "Category " + (i + 1));
    }
    JFreeChart lineChart = ChartFactory.createLineChart(
      "Line Graph",
      "Category",
      "Value",
      lineDataset,
      PlotOrientation.VERTICAL,
      true,
      true,
      false
    );
    ChartFrame lineFrame = new ChartFrame("Line Graph", lineChart);
    lineFrame.pack();
    lineFrame.setVisible(true);

    // Create a bar graph
    DefaultCategoryDataset barDataset = new DefaultCategoryDataset();
    for (int i = 0; i < data.length; i++) {
      barDataset.addValue(data[i], "Series 1", "Category " + (i + 1));
    }
    JFreeChart barChart = ChartFactory.createBarChart(
      "Bar Graph",
      "Category",
      "Value",
      barDataset,
      PlotOrientation.VERTICAL,
      true,
      true,
      false
    );
    ChartFrame barFrame = new ChartFrame("Bar Graph", barChart);
    barFrame.pack();
    barFrame.setVisible(true);

    // Create a pie chart
    DefaultPieDataset pieDataset = new DefaultPieDataset();
    for (int i = 0; i < data.length; i++) {
      pieDataset.setValue("Category " + (i + 1), data[i]);
    }
    JFreeChart pieChart = ChartFactory.createPieChart(
      "Pie Chart",
      pieDataset,
      true,
      true,
      false
    );
    ChartFrame pieFrame = new ChartFrame("Pie Chart", pieChart);
    pieFrame.pack();
    pieFrame.setVisible(true);

    scanner.close();
  }
}
